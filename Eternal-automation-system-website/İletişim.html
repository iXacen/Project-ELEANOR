<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/style.css" />
    <script src="js/script.js" defer></script>
    <title>Eternal Automation System - İletişim</title>
  </head>
  <body>
    <div id="overlay"></div>
    <div id="mobile-menu" class="mobile-main-menu">
      <ul>
          <li><a href="index.html">ANASAYFA</a></li>
          <li><a href="Hakkımızda.html">HAKKIMIZDA</a></li>
          <li><a href="Ürünlerimiz.php">ÜRÜNLERİMİZ</a></li>
          <li><a href="İletişim.html">İLETİŞİM</a></li>
      </ul>
    </div>
    <header class="main-header">
      <nav class="desktop-main-menu">
        <ul>
          <li><a href="index.html">ANASAYFA</a></li>
          <li><a href="Hakkımızda.html">HAKKIMIZDA</a></li>
          <li><a href="Ürünlerimiz.php">ÜRÜNLERİMİZ</a></li>
          <li><a href="İletişim.html">İLETİŞİM</a></li>
        </ul>
      </nav>
          <div class="logo">
      <a href="index.html">
        <img src="img/logo.webp" alt="Logo" />
      </a>
    </div>
    </header>

        <!-- Hamburger Menu -->
    <button id="menu-btn" class="hamburger" type="button">
      <span class="hamburger-top"></span>
      <span class="hamburger-middle"></span>
      <span class="hamburger-bottom"></span>
    </button>



        <form action="https://formspree.io/f/xnnjeygd" method="POST" class="contact-form">
                    <div id="paket-bilgisi" style="text-align:center; margin-bottom: 20px;"></div>
                    <div id="secimContainer" style="display:none; border: 1px solid #444; padding: 15px; border-radius: 10px; background-color: rgba(255, 255, 255, 0.05); margin-bottom: 20px;">
                      <h3 style="margin: 0 0 10px;">Sera Projesi Teklifiniz:<br> <span id="secimBilgisi" style="color:#ffd700"></span></h3>
                    </div>
                    <br>
                    <label>AŞŞAĞIDAKİ BİLGİLERİ DOLDURARAK BİZİMLE İLETİŞİME GEÇEBİLİRSİNİZ</label>

                    <input type="text" name="ad" placeholder="Adınız" required>
                    <input type="text" name="soyad" placeholder="Soyadınız" required>
                    <input type="email" name="email" placeholder="E-Posta Adresiniz" pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$" title="Lütfen geçerli bir e-posta adresi girin. (Örnek: kullanıcı@domain.com)">
                    <input type="tel" name="telefon" placeholder="Telefon Numaranız" required pattern="[0-9\s]{10,15}" title="Lütfen geçerli bir telefon numarası girin (boşluklar dahil, 10-15 haneli)">
                    <textarea id="message" name="message" required placeholder="Mesajınızı buraya yazın"></textarea>

                    <input type="hidden" name="secilenPaket" id="hidden-paket">
                    <input type="hidden" name="paketFiyati" id="hidden-fiyat">
                    <input type="hidden" name="ozelPaketDetay" id="ozelPaketDetay" />
                    <input type="hidden" name="secilenSecim" id="hidden-secimBilgisi" />




                    <button type="submit" class="submit-btn">Gönder</button>
                    <p id="form-success-message" style="display: none; color: rgb(238, 243, 238); text-align: center; margin-top: 20px;">Mesajınız başarıyla gönderildi.</p>
        </form>
        




    <footer>
      <ul>
        <li>Eternal Automation System &copy; 2025</li>
        <li><a href="#">GitHub</a></li>
        <li><a href="#">Twitter</a></li>
        <li><a href="#">YouTube</a></li>
        <li><a href="#">Instagram</a></li>
        <li><a href="#">Linkedin</a></li>
      </ul>
    </footer>



<script>
document.addEventListener("DOMContentLoaded", function () {
  const form = document.querySelector(".contact-form");
  const successMessage = document.getElementById("form-success-message");

  // localStorage'dan paket bilgilerini al
  const secilenPaket = localStorage.getItem("secilenPaket");
  const paketFiyati = localStorage.getItem("paketFiyati");
  const ozelPaketDetay = localStorage.getItem("ozelPaketDetay"); // özel paket detayları

  // Gizli inputlara yerleştir
  if (secilenPaket && paketFiyati) {
    const hiddenPaketInput = document.getElementById("hidden-paket");
    const hiddenFiyatInput = document.getElementById("hidden-fiyat");
    const ozelDetayInput = document.getElementById("ozelPaketDetay");

    if (hiddenPaketInput) hiddenPaketInput.value = secilenPaket;
    if (hiddenFiyatInput) hiddenFiyatInput.value = paketFiyati;
    if (ozelDetayInput && ozelPaketDetay) ozelDetayInput.value = ozelPaketDetay;

    // Seçilen paket bilgilerini kullanıcıya göster
    const infoDiv = document.getElementById("paket-bilgisi");
    if (infoDiv) {
      infoDiv.innerHTML = `
        <div style="border: 1px solid #444; padding: 15px; border-radius: 10px; background-color: rgba(255, 255, 255, 0.05); margin-bottom: 20px;">
          <h3 style="margin: 0 0 10px;">Seçtiğiniz Paket: <span style="color:#ffd700">${secilenPaket}</span></h3>
          <p style="margin: 0;">Fiyat: <strong>${paketFiyati}</strong></p>
        </div>
      `;
    }
  }

  // Sayfa terk edilince localStorage'dan temizle
  window.addEventListener("beforeunload", function () {
    localStorage.removeItem("secilenPaket");
    localStorage.removeItem("paketFiyati");
    localStorage.removeItem("ozelPaketDetay");
  });

  // Form submit event handler
  form.addEventListener("submit", async function (e) {
    e.preventDefault();

    const formData = new FormData(form);

    try {
      const response = await fetch(form.action, {
        method: form.method,
        body: formData,
        headers: {
          'Accept': 'application/json'
        }
      });

      if (response.ok) {
        form.reset();
        successMessage.style.display = "block";
      } else {
        alert("Mesaj gönderilirken bir hata oluştu.");
      }
    } catch (error) {
      alert("Bağlantı hatası. Lütfen tekrar deneyin.");
    }
  });
});
</script>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const urlParams = new URLSearchParams(window.location.search);
  const secim = urlParams.get('secim');
  if (secim) {
    const decodedSecim = decodeURIComponent(secim).replace(/\n/g, '<br>');
    document.getElementById('secimBilgisi').innerHTML = decodedSecim;
    document.getElementById('secimContainer').style.display = 'block';

    // Gizli inputa sade text olarak yaz (HTML olmamalı)
    const hiddenSecimInput = document.getElementById('hidden-secimBilgisi');
    if (hiddenSecimInput) {
      hiddenSecimInput.value = decodeURIComponent(secim).replace(/\n/g, ', ');
    }
  }
});


</script>

  </body>

</html>
